(this["webpackJsonpgoalmates-front"]=this["webpackJsonpgoalmates-front"]||[]).push([[0],{106:function(n,e,t){"use strict";t.r(e);var a=t(3),r=t(0),o=t.n(r),i=t(9),c=t.n(i),s=t(11),l=t(12),u=t(14),d=t(13),p=t(39),h=t(8),b=t(46),f=t(47),g=function(n){Object(u.a)(t,n);var e=Object(d.a)(t);function t(n){var a;return Object(s.a)(this,t),(a=e.call(this,n)).state={},a}return Object(l.a)(t,[{key:"render",value:function(){var n=this.props,e=n.path,t=n.component,r=Object(f.a)(n,["path","component"]);return Object(a.jsx)(h.a,Object(b.a)({path:e,component:t},r))}}]),t}(r.Component),j=t(27),m=t.n(j),x=t(45),O=t(37),v=t(141),k=t(19),w=t(20);function y(){var n=Object(k.a)(["\n  background-color: #dddddd;\n  width: 100vw;\n  height: 100vh;\n  display: grid;\n  grid-template-columns: 50% 50%;\n  align-items: center;\n\n  .login-logo{\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction:column;\n\n    img{\n      height: 80%;\n      width: 80%;\n    }\n\n    .login-logo-texto{\n      display:flex;\n      flex-direction:column;\n      position: relative;\n      bottom: 50px;\n      left: 100px;\n      font-size: 20px;\n    }\n\n    @media(max-width: 800px){\n      .login-logo-texto{\n        bottom: 40px;\n        left: 100px;\n        font-size: 16px;\n      }\n    }\n\n    @media(max-width: 600px){\n      .login-logo-texto{\n        flex-direction: row;\n        bottom: 30px;\n        left: 50px;\n        font-size: 12px;\n      }\n      span{\n        margin: 0 !important;\n        margin-right: 2px !important;\n      }\n    }\n\n    @media(max-width: 400px){\n      .login-logo-texto{\n        flex-direction: row;\n        bottom: 15px;\n        left: 30px;\n        font-size: 6px;\n      }\n      span{\n        margin: 0 !important;\n        margin-right: 2px !important;\n      }\n    }\n  }\n\n  .login-form{\n    justify-self:center;\n    width: 50%;\n    background-color: white;\n    padding: 20px;\n    display: flex;\n    flex-direction:column;\n    gap:5px;\n\n    button{\n      background-color:#7b68ee;\n      color: #FFFFFF;\n      border-radius: 5px;\n      border-color: white;\n      height: 30px;\n      outline: none;\n      cursor: pointer;\n    }\n\n    .login-forgot-password{\n      background-color: transparent;\n      border:none;\n      color: #7b68ee;\n      align-self: flex-end;\n      margin:0;\n      height: fit-content;\n\n      :hover{\n        color:black;\n      }\n\n      :active{\n        color:#7b68ee;\n      }\n    }\n  }\n\n\n  @media(max-width:600px){\n    display: flex;\n    flex-direction: column;\n  }\n"]);return y=function(){return n},n}var C=w.a.div(y()),S=t(68),R=t.n(S).a.create({baseURL:"https://guarded-coast-12869.herokuapp.com",timeout:4e4});R.defaults.headers.post["Content-Type"]="application/json";R.interceptors.request.use((function(n){var e=function(){var n=localStorage.getItem("UserToken");if(n&&null!==n)return n}();return e&&(n.headers.Authorization=e),n}),(function(n){return Promise.reject(n)})),R.interceptors.response.use((function(n){return n}),(function(n){document.location.pathname.split("/")[1];return n.response&&401===Number(n.response.status)&&(alert("Seu login expirou!"),localStorage.clear(),document.location.href="/"),Promise.reject(n)}));var F=R,N=t.p+"static/media/LogoPretoTransparente.393117e5.svg",E=t(69),P=t.n(E),L=t(40),z=function(n){Object(u.a)(t,n);var e=Object(d.a)(t);function t(n){var a;return Object(s.a)(this,t),(a=e.call(this,n)).handleLoginChange=function(){a.loginRef.current&&a.setState({login:a.loginRef.current.value})},a.handlePasswordChange=function(){a.passwordRef.current&&a.setState({password:a.passwordRef.current.value})},a.handleSendClick=Object(O.a)(m.a.mark((function n(){var e,t,r,o,i,c,s,l,u,d;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return localStorage.clear(),e=a.state,t=e.password,r=e.login,n.next=4,Object(L.a)(F.post("/",{query:'mutation{\n      login(username:"'.concat(r,'", password:"').concat(t,'"){\n          id\n          token\n        }\n      }')}));case 4:if(o=n.sent,i=Object(x.a)(o,2),c=i[0],s=i[1],c&&a.showError(c.response.data.message||"Erro desconhecido"),!s.data.data){n.next=28;break}if(l=s.data.data.login,u=l.id,d=l.token,!u){n.next=15;break}localStorage.setItem("UserId",u),n.next=18;break;case 15:return localStorage.clear(),a.showError("Houve um problema com o seu login!"),n.abrupt("return");case 18:if(!d){n.next=22;break}localStorage.setItem("UserToken","Bearer ".concat(d)),n.next=25;break;case 22:return localStorage.clear(),a.showError("Houve um problema com o seu login!"),n.abrupt("return");case 25:a.props.history.push("/feed"),n.next=29;break;case 28:a.showError("Usu\xe1rio ou senha invalidos!");case 29:case"end":return n.stop()}}),n)}))),a.handleForgotPasswordClick=function(){},a.loginRef=o.a.createRef(),a.passwordRef=o.a.createRef(),a.state={login:"",password:""},a}return Object(l.a)(t,[{key:"showError",value:function(n){P.a.fire({icon:"error",text:n})}},{key:"render",value:function(){return Object(a.jsxs)(C,{children:[Object(a.jsxs)("div",{className:"login-logo",children:[Object(a.jsx)("img",{src:N,alt:"Logo"}),Object(a.jsxs)("div",{className:"login-logo-texto",children:[Object(a.jsx)("span",{children:"Traga seus objetivos"}),Object(a.jsx)("span",{style:{marginLeft:"100px"},children:"para a Realidade"})]})]}),Object(a.jsxs)("div",{className:"login-form",children:[Object(a.jsx)(v.a,{variant:"outlined",label:"Email ou usu\xe1rio",inputRef:this.loginRef,onChange:this.handleLoginChange}),Object(a.jsx)(v.a,{variant:"outlined",label:"Senha",type:"password",inputRef:this.passwordRef,onChange:this.handlePasswordChange}),Object(a.jsx)("button",{className:"login-forgot-password",onClick:this.handleForgotPasswordClick,children:"Esqueci minha senha"}),Object(a.jsx)("button",{onClick:this.handleSendClick,children:"Entrar"})]})]})}}]),t}(r.Component);function B(){var n=Object(k.a)(["\n  width: 100%;\n  height: 50px;\n  background-color: #5645bd;\n  display:grid;\n  grid-template-columns: 20% 60% 20%;\n  align-items:  center;\n\n  .top-bar-left{\n    padding-left: 5px;\n    display:flex;\n    img{\n      height: 40px;\n      justify-self: flex-end;\n    }\n  }\n\n  .top-bar-search{\n    background-color: white;\n  }\n\n  .top-bar-right{\n    padding-right: 5px;\n    display:flex;\n    justify-content: flex-end;\n  }\n"]);return B=function(){return n},n}var T=w.a.div(B()),H=t(142),q=t(138),I=t(139),U=t(140),M=t(6),A=Object(M.a)({input:{backgroundColor:"white",padding:"5px",borderRadius:"20px"}})(H.a),J=function(n){Object(u.a)(t,n);var e=Object(d.a)(t);function t(n){var a;return Object(s.a)(this,t),(a=e.call(this,n)).state={},a}return Object(l.a)(t,[{key:"render",value:function(){var n=this.props,e=n.handleBurgerClick,t=n.handleHomeClick,r=n.handleConfigClick,o=n.hasBurger;return Object(a.jsxs)(T,{children:[Object(a.jsxs)("div",{className:"top-bar-left",children:[o?Object(a.jsx)(q.a,{style:{fontSize:"40px",cursor:"pointer"},onClick:e}):"",Object(a.jsx)(I.a,{style:{fontSize:"40px",cursor:"pointer"},onClick:t}),Object(a.jsx)("img",{src:N,alt:"logo"})]}),Object(a.jsx)(A,{rowsMax:1}),Object(a.jsx)("div",{className:"top-bar-right",children:Object(a.jsx)(U.a,{style:{fontSize:"40px",cursor:"pointer"},onClick:r})})]})}}]),t}(r.Component);function D(){var n=Object(k.a)(["\n  .animate-close-right {\n    position: absolute;\n    right: -20%;\n    top: 50px;\n    background-color: #7b68ee;\n    width: 20%;\n    height: calc(100% - 50px);\n  }\n  .animate-open-right {\n    position: absolute;\n    right: 0;\n    top: 50px;\n    animation: animateOpenRight 1s;\n    background-color: #7b68ee;\n    width: 20%;\n    height: calc(100% - 50px);\n  }\n\n  @keyframes animateOpenRight {\n    from {\n      right: -20%;\n      opacity: 0;\n    }\n    to {\n      right: 0;\n      opacity: 1;\n    }\n  }\n\n\n\n  .animate-close-left {\n    position: absolute;\n    left: -20%;\n    top: 50px;\n    background-color: #7b68ee;\n    width: 20%;\n    height: calc(100% - 50px);\n  }\n  .animate-open-left {\n    position: absolute;\n    left: 0;\n    top: 50px;\n    animation: animateOpenLeft 1s;\n    background-color: #7b68ee;\n    width: 20%;\n    height: calc(100% - 50px);\n  }\n  @keyframes animateOpenLeft {\n    from {\n      left: -20%;\n      opacity: 0;\n    }\n    to {\n      left: 0;\n      opacity: 1;\n    }\n  }\n"]);return D=function(){return n},n}var W=w.a.div(D()),X=function(n){Object(u.a)(t,n);var e=Object(d.a)(t);function t(n){return Object(s.a)(this,t),e.call(this,n)}return Object(l.a)(t,[{key:"classNameSelect",value:function(){var n=this.props,e=n.open,t=n.right;return e?"animate-open-"+(t?"right":"left"):"animate-close-"+(t?"right":"left")}},{key:"render",value:function(){var n=this.props,e=n.handleClose,t=n.children;return Object(a.jsx)(W,{children:Object(a.jsx)("div",{className:this.classNameSelect(),onMouseLeave:e,children:t})})}}]),t}(r.Component);function G(){var n=Object(k.a)(["\n  height:100%;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 20% 60% 20%;\n"]);return G=function(){return n},n}var K=w.a.div(G()),Q=function(n){Object(u.a)(t,n);var e=Object(d.a)(t);function t(n){var a;return Object(s.a)(this,t),(a=e.call(this,n)).getPosts=Object(O.a)(m.a.mark((function n(){var e,t,r,o;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(L.a)(F.post("/",{query:"query {\n          getPosts {\n            id\n            body\n            createdAt\n            username\n            comments{\n              id\n              username\n              body\n            }\n          }\n        }\n        "}));case 2:if(e=n.sent,t=Object(x.a)(e,2),r=t[0],o=t[1],!r){n.next=9;break}return console.log("Erro ao buscar feed"),n.abrupt("return");case 9:a.setState({posts:o.data.data.getPosts});case 10:case"end":return n.stop()}}),n)}))),a.componentDidMount=Object(O.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.getPosts();case 2:case"end":return n.stop()}}),n)}))),a.state={posts:[]},a}return Object(l.a)(t,[{key:"render",value:function(){var n=this.state.posts;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(X,{open:!0,right:!0}),Object(a.jsx)(K,{children:n.length?n.map((function(n){return Object(a.jsx)(Z,{})})):Object(a.jsx)("span",{className:"no-posts",children:"N\xe3o h\xe1 nenhuma publica\xe7\xe3o"})})]})}}]),t}(r.Component);function V(){var n=Object(k.a)(["\n\n"]);return V=function(){return n},n}var Y=w.a.div(V()),Z=function(n){Object(u.a)(t,n);var e=Object(d.a)(t);function t(){return Object(s.a)(this,t),e.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return Object(a.jsx)(Y,{children:"aaaa"})}}]),t}(r.Component);function $(){var n=Object(k.a)(["\n&::-webkit-scrollbar {\n  display: none;\n}\n"]);return $=function(){return n},n}w.a.div($());var _=function(n){Object(u.a)(t,n);var e=Object(d.a)(t);function t(n){var a;return Object(s.a)(this,t),(a=e.call(this,n)).handleBurgerClick=function(){a.setState({open:!0})},a.handleHomeClick=function(){window.location.reload(!1)},a.handleClose=function(){a.setState({open:!1})},a.state={open:!1},a}return Object(l.a)(t,[{key:"render",value:function(){var n=this.props,e=n.path,t=n.component,r=n.homeFeed,o=Object(f.a)(n,["path","component","homeFeed"]),i=!!r||this.state.open;return Object(a.jsxs)("noToolbar",{style:{overflowX:"hidden",maxWidth:"100vw"},children:[Object(a.jsx)(X,{open:i,handleClose:this.handleClose}),Object(a.jsxs)("div",{style:{display:"grid",gridTemplateRows:"50px auto",height:"100vh"},children:[Object(a.jsx)(J,{handleBurgerClick:this.handleBurgerClick,handleHomeClick:this.handleHomeClick,hasBurger:!r}),Object(a.jsx)("div",{style:{height:"100%",display:"flex"},children:Object(a.jsx)(h.a,Object(b.a)({path:e,component:t},o))})]})]})}}]),t}(r.Component),nn=function(n){Object(u.a)(t,n);var e=Object(d.a)(t);function t(n){var a;return Object(s.a)(this,t),(a=e.call(this,n)).state={},a}return Object(l.a)(t,[{key:"render",value:function(){return Object(a.jsx)(p.a,{children:Object(a.jsxs)(h.c,{children:[Object(a.jsx)(g,{path:"/",component:z,exact:!0}),Object(a.jsx)(_,{path:"/feed",component:Q,homeFeed:!0})]})})}}]),t}(r.Component);c.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(nn,{})}),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.14b4e225.chunk.js.map